!function(n,t){"use strict";var e=function(n,t){var e=document.createElement("canvas");return e.setAttribute("width",n),e.setAttribute("height",t),e.getContext("2d")},r=function(n,t,r){var a=new Image,i=n.src||n,u=t||1;u=1>u||isNaN(u)?1:u,"data:"!==i.substring(0,5)&&(a.crossOrigin="Anonymous"),a.onload=function(){var n=a.width/u,t=a.height/u,i=e(n,t);i.drawImage(a,0,0,n,t);var o=i.getImageData(0,0,n,t);r&&r(o.data)},a.src=i},a=function(n){return["rgb(",n,")"].join("")},i=function(n){var t=[];for(var e in n)t.push(o(e,n[e]));return t.sort(function(n,t){return t.count-n.count}),t},u=function(n,t){if(n.length>t)return n.slice(0,t);for(var e=n.length-1;t-1>e;e++)n.push(o("0,0,0",0));return n},o=function(n,t){return{name:a(n),count:t}},c=10,s={};s.colors=function(n,e){e=e||{};var o=e.exclude||[],s=e.paletteSize||c,f=e.speedUp||1;r(n,f,function(n){for(var r={},c="",f=[],d=0;d<n.length;d+=4)f[0]=n[d],f[1]=n[d+1],f[2]=n[d+2],c=f.join(","),-1===f.indexOf(t)&&0!==n[d+3]&&-1===o.indexOf(a(c))&&(r[c]=c in r?r[c]+1:1);if(e.success){var g=u(i(r),s+1);e.success({dominant:g[0].name,secondary:g[1].name,palette:g.map(function(n){return n.name}).slice(1)})}})},n.RGBaster=n.RGBaster||s}(window);